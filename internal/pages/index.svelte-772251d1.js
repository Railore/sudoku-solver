var is=Object.defineProperty,ns=Object.defineProperties;var os=Object.getOwnPropertyDescriptors;var St=Object.getOwnPropertySymbols;var rs=Object.prototype.hasOwnProperty,as=Object.prototype.propertyIsEnumerable;var Ct=(o,e,t)=>e in o?is(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,Nt=(o,e)=>{for(var t in e||(e={}))rs.call(e,t)&&Ct(o,t,e[t]);if(St)for(var t of St(e))as.call(e,t)&&Ct(o,t,e[t]);return o},It=(o,e)=>ns(o,os(e));import{T as us,S as cs,i as hs,s as ds,e as f,t as S,c as p,a as _,h as C,d as h,b as d,g as T,J as a,k as E,m as V,K as Ee,L as Ve,j as it,M as fs,N as Tt,f as Qe,O as We,P as W,q as nt,o as At,p as ps,Q as ne,R as Ht,U as Pt,n as _s,V as ot,W as Rt,l as jt}from"../chunks/vendor-cad07985.js";class Ut{constructor(e){var t,s;this.value=void 0,this.possibleValues=new Set(Object.keys(new Array(9).fill(0)).map(i=>Number.parseInt(i)+1)),(e==null?void 0:e.possibleValues)&&(this.possibleValues=new Set(e.possibleValues)),(e==null?void 0:e.value)&&this.select(e.value,((t=e==null?void 0:e.reason)==null?void 0:t.type)==="hypothesis",(s=e==null?void 0:e.reason)==null?void 0:s.hypothesisNumber)}select(e,t,s){this.value=e,this.possibleValues=new Set,this.reason={type:t?"hypothesis":"deduction",hypothesisNumber:s}}}class Ot extends Error{}class Bt extends Error{constructor(e,t){super(`Error: Dead cell at (${e},${t})`);this.i=e,this.j=t}}var De;(function(o){o[o.hypothesis=0]="hypothesis",o[o.deductions=1]="deductions",o[o.invalidateHypothesis=2]="invalidateHypothesis"})(De||(De={}));class vs{constructor(e,t){this.decisionCallBack=async()=>!0,this.emptyCellsCount=81,this.hypothesisNumber=0,this.hypothesisStack=[],this.sudokuSavesStack=[],this.solveTimer=new us,this.interrupt=!1,Object.assign(this,t),this.nRow=e.length,this.nCol=e[0].length,this.initSudoku();for(let s=0;s<this.nRow;s++)for(let i=0;i<this.nCol;i++)e[s][i]!==void 0&&this.select(s,i,e[s][i],!0)}async solve(){for(this.solveTimer.start();this.emptyCellsCount>0&&!this.interrupt;){try{if(await this.deductionLoop(),this.emptyCellsCount<=0||this.interrupt)break;this.assertNoDeadCell()}catch(e){await this.handleErrors(e);continue}await this.makeHypothesis()}this.solveTimer.stop(),this.interrupt||console.log(`Computation time : ${this.solveTimer.ms()} ms`)}cloneSudoku(){return this.sudoku.map(e=>e.map(t=>new Ut(t)))}async makeHypothesis(){const e=this.cloneSudoku();let t=this.nRow*this.nCol,s=-1,i=-1;for(let u=0;u<this.nRow;u++)for(let m=0;m<this.nCol;m++)e[u][m].value===void 0&&e[u][m].possibleValues.size<t&&(t=e[u][m].possibleValues.size,s=u,i=m);const l=Array.from(e[s][i].possibleValues.values()),r=l[Math.floor(Math.random()*l.length)],n={i:s,j:i,value:r,number:++this.hypothesisNumber};console.log("making hypothesis,",n),this.sudokuSavesStack.push(this.sudoku),this.hypothesisStack.push(n),this.sudoku=e,this.select(s,i,r,!0),await this.callDecisionCallback(0,[n])}async handleErrors(e){if(e instanceof Ot||e instanceof Bt)if(this.hypothesisStack.length){const t=this.undoLastHypothesis(),{i:s,j:i,value:l}=t;this.sudoku[s][i].possibleValues.delete(l),await this.callDecisionCallback(2,[t])}else throw e;else throw e}undoLastHypothesis(){return console.log("undoing last hypothesis"),this.sudoku=this.sudokuSavesStack.pop(),this.emptyCellsCount=this.sudoku.reduce((e,t)=>e+t.reduce((s,i)=>i.value===void 0?s+1:s,0),0),this.hypothesisStack.pop()}assertNoDeadCell(){for(let e=0;e<this.nRow;e++)for(let t=0;t<this.nCol;t++)if(this.sudoku[e][t].possibleValues.size===0&&this.sudoku[e][t].value===void 0)throw new Bt(e,t)}async deductionLoop(){let e=[];do{for(const[t,{i:s,j:i,value:l}]of Object.entries(e))if(this.sudoku[s][i].possibleValues.has(l))this.select(s,i,l);else{await this.callDecisionCallback(1,e.slice(0,Number.parseInt(t)));return}e.length&&await this.callDecisionCallback(1,e),e=this.findDeductions()}while(e.length>0)}findDeductions(){const e=[];for(let t=0;t<this.nRow;t++)for(let s=0;s<this.nCol;s++)this.sudoku[t][s].possibleValues.size===1&&e.push({i:t,j:s,value:this.sudoku[t][s].possibleValues.values().next().value});return e}initSudoku(){this.sudoku=new Array(this.nRow).fill([]).map(e=>new Array(this.nCol).fill({}).map(t=>new Ut))}select(e,t,s,i=!1){if(!this.sudoku[e][t].possibleValues.has(s))throw new Ot;this.sudoku[e][t].select(s,i,this.hypothesisNumber),this.emptyCellsCount--,this.makeUnavailableToCol(t,s),this.makeUnavailableToRow(e,s),this.makeUnavailableToSquare(e,t,s)}makeUnavailableToSquare(e,t,s){const i=e-e%3,l=i+3,r=t-t%3,n=r+3;for(let u=i;u<l;u++)for(let m=r;m<n;m++)this.sudoku[u][m].possibleValues.delete(s)}makeUnavailableToRow(e,t){for(let s=0;s<this.nCol;s++)this.sudoku[e][s].possibleValues.delete(t)}makeUnavailableToCol(e,t){for(let s=0;s<this.nRow;s++)this.sudoku[s][e].possibleValues.delete(t)}async callDecisionCallback(e,t){this.solveTimer.pause(),await this.decisionCallBack(t.map(i=>{var l;return It(Nt({},i),{type:e,hypothesisDepth:this.hypothesisStack.length+(e===2?1:0),currentHypothesisNumber:(l=i==null?void 0:i.number)!=null?l:this.hypothesisNumber})}))||(this.interrupt=!0),this.solveTimer.resume()}}function qt(o,e,t){const s=o.slice();return s[30]=e[t],s}function Lt(o,e,t){const s=o.slice();return s[33]=e[t],s}function Mt(o,e,t){const s=o.slice();return s[36]=e[t],s}function zt(o,e,t){const s=o.slice();return s[44]=e[t],s}function Gt(o,e,t){const s=o.slice();return s[36]=e[t],s[38]=t,s}function Jt(o,e,t){const s=o.slice();return s[39]=e[t],s[40]=e,s[41]=t,s}function Kt(o,e,t){const s=o.slice();return s[47]=e[t],s[49]=t,s}function Qt(o,e,t){const s=o.slice();return s[47]=e[t],s[49]=t,s}function Wt(o){let e,t;return{c(){e=f("div"),t=S("The entered sudoku is invalid."),this.h()},l(s){e=p(s,"DIV",{class:!0});var i=_(e);t=C(i,"The entered sudoku is invalid."),i.forEach(h),this.h()},h(){d(e,"class","notification is-danger mr-6 ml-6")},m(s,i){T(s,e,i),a(e,t)},d(s){s&&h(e)}}}function Ft(o){let e,t,s,i,l,r,n,u;return{c(){e=f("div"),t=f("span"),i=E(),l=f("span"),r=S(": "),n=S(o[49]),u=E(),this.h()},l(m){e=p(m,"DIV",{class:!0});var b=_(e);t=p(b,"SPAN",{class:!0}),_(t).forEach(h),i=V(b),l=p(b,"SPAN",{});var k=_(l);r=C(k,": "),n=C(k,o[49]),k.forEach(h),u=V(b),b.forEach(h),this.h()},h(){d(t,"class",s="cell "+("possibility-"+String(o[49]))+" svelte-p37xol"),d(e,"class","is-flex")},m(m,b){T(m,e,b),a(e,t),a(e,i),a(e,l),a(l,r),a(l,n),a(e,u)},p:Ee,d(m){m&&h(e)}}}function Xt(o){let e,t,s,i,l,r,n,u;return{c(){e=f("div"),t=f("span"),i=E(),l=f("span"),r=S(": "),n=S(o[49]),u=E(),this.h()},l(m){e=p(m,"DIV",{class:!0});var b=_(e);t=p(b,"SPAN",{class:!0}),_(t).forEach(h),i=V(b),l=p(b,"SPAN",{});var k=_(l);r=C(k,": "),n=C(k,o[49]),k.forEach(h),u=V(b),b.forEach(h),this.h()},h(){d(t,"class",s="cell "+("hypothesis hypothesis-"+String(o[49]))+" svelte-p37xol"),d(e,"class","is-flex")},m(m,b){T(m,e,b),a(e,t),a(e,i),a(e,l),a(l,r),a(l,n),a(e,u)},p:Ee,d(m){m&&h(e)}}}function ms(o){let e,t,s=o[5],i=[];for(let l=0;l<s.length;l+=1)i[l]=Zt(Mt(o,s,l));return{c(){e=f("div"),t=f("div");for(let l=0;l<i.length;l+=1)i[l].c();this.h()},l(l){e=p(l,"DIV",{class:!0});var r=_(e);t=p(r,"DIV",{class:!0});var n=_(t);for(let u=0;u<i.length;u+=1)i[u].l(n);n.forEach(h),r.forEach(h),this.h()},h(){d(t,"class","sudoku-container svelte-p37xol"),d(e,"class","box")},m(l,r){T(l,e,r),a(e,t);for(let n=0;n<i.length;n+=1)i[n].m(t,null)},p(l,r){if(r[0]&33){s=l[5];let n;for(n=0;n<s.length;n+=1){const u=Mt(l,s,n);i[n]?i[n].p(u,r):(i[n]=Zt(u),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=s.length}},d(l){l&&h(e),ne(i,l)}}}function bs(o){let e,t,s=o[4],i=[];for(let l=0;l<s.length;l+=1)i[l]=$t(Gt(o,s,l));return{c(){e=f("div"),t=f("div");for(let l=0;l<i.length;l+=1)i[l].c();this.h()},l(l){e=p(l,"DIV",{class:!0});var r=_(e);t=p(r,"DIV",{class:!0});var n=_(t);for(let u=0;u<i.length;u+=1)i[u].l(n);n.forEach(h),r.forEach(h),this.h()},h(){d(t,"class","sudoku-container svelte-p37xol"),d(e,"class","box")},m(l,r){T(l,e,r),a(e,t);for(let n=0;n<i.length;n+=1)i[n].m(t,null)},p(l,r){if(r[0]&4114){s=l[4];let n;for(n=0;n<s.length;n+=1){const u=Gt(l,s,n);i[n]?i[n].p(u,r):(i[n]=$t(u),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=s.length}},d(l){l&&h(e),ne(i,l)}}}function Yt(o){let e,t=(o[44].value===void 0?"":o[44].value)+"",s,i,l;return{c(){e=f("span"),s=S(t),this.h()},l(r){e=p(r,"SPAN",{class:!0,style:!0});var n=_(e);s=C(n,t),n.forEach(h),this.h()},h(){d(e,"class",i=""+(Rt(ss(o[44]))+" svelte-p37xol")),d(e,"style",l=`transition: all ${o[0]/2e3}s ease-in-out;`)},m(r,n){T(r,e,n),a(e,s)},p(r,n){n[0]&32&&t!==(t=(r[44].value===void 0?"":r[44].value)+"")&&it(s,t),n[0]&32&&i!==(i=""+(Rt(ss(r[44]))+" svelte-p37xol"))&&d(e,"class",i),n[0]&1&&l!==(l=`transition: all ${r[0]/2e3}s ease-in-out;`)&&d(e,"style",l)},d(r){r&&h(e)}}}function Zt(o){let e,t,s=o[36],i=[];for(let l=0;l<s.length;l+=1)i[l]=Yt(zt(o,s,l));return{c(){e=f("div");for(let l=0;l<i.length;l+=1)i[l].c();t=E(),this.h()},l(l){e=p(l,"DIV",{class:!0});var r=_(e);for(let n=0;n<i.length;n+=1)i[n].l(r);t=V(r),r.forEach(h),this.h()},h(){d(e,"class","row svelte-p37xol")},m(l,r){T(l,e,r);for(let n=0;n<i.length;n+=1)i[n].m(e,null);a(e,t)},p(l,r){if(r[0]&33){s=l[36];let n;for(n=0;n<s.length;n+=1){const u=zt(l,s,n);i[n]?i[n].p(u,r):(i[n]=Yt(u),i[n].c(),i[n].m(e,t))}for(;n<i.length;n+=1)i[n].d(1);i.length=s.length}},d(l){l&&h(e),ne(i,l)}}}function xt(o){let e,t,s;function i(...n){return o[17](o[39],...n)}function l(){o[18].call(e,o[40],o[41])}function r(...n){return o[19](o[38],o[41],...n)}return{c(){e=f("input"),this.h()},l(n){e=p(n,"INPUT",{type:!0,class:!0}),this.h()},h(){d(e,"type","number"),d(e,"class","cell svelte-p37xol")},m(n,u){T(n,e,u),We(e,o[39]),t||(s=[W(e,"input",i),W(e,"input",l),W(e,"input",r)],t=!0)},p(n,u){o=n,u[0]&16&&ot(e.value)!==o[39]&&We(e,o[39])},d(n){n&&h(e),t=!1,Ht(s)}}}function $t(o){let e,t,s=o[36],i=[];for(let l=0;l<s.length;l+=1)i[l]=xt(Jt(o,s,l));return{c(){e=f("div");for(let l=0;l<i.length;l+=1)i[l].c();t=E(),this.h()},l(l){e=p(l,"DIV",{class:!0});var r=_(e);for(let n=0;n<i.length;n+=1)i[n].l(r);t=V(r),r.forEach(h),this.h()},h(){d(e,"class","row svelte-p37xol")},m(l,r){T(l,e,r);for(let n=0;n<i.length;n+=1)i[n].m(e,null);a(e,t)},p(l,r){if(r[0]&4114){s=l[36];let n;for(n=0;n<s.length;n+=1){const u=Jt(l,s,n);i[n]?i[n].p(u,r):(i[n]=xt(u),i[n].c(),i[n].m(e,t))}for(;n<i.length;n+=1)i[n].d(1);i.length=s.length}},d(l){l&&h(e),ne(i,l)}}}function ks(o){let e,t,s,i,l,r,n,u,m,b=o[10],k=[];for(let w=0;w<b.length;w+=1)k[w]=es(Lt(o,b,w));return{c(){e=f("div"),t=f("div"),s=f("button"),i=S("\u21BB"),l=E(),r=f("div"),n=f("div");for(let w=0;w<k.length;w+=1)k[w].c();this.h()},l(w){e=p(w,"DIV",{class:!0});var D=_(e);t=p(D,"DIV",{class:!0});var y=_(t);s=p(y,"BUTTON",{class:!0,"aria-haspopup":!0,"aria-controls":!0});var H=_(s);i=C(H,"\u21BB"),H.forEach(h),y.forEach(h),l=V(D),r=p(D,"DIV",{class:!0,id:!0,role:!0});var F=_(r);n=p(F,"DIV",{class:!0});var X=_(n);for(let Y=0;Y<k.length;Y+=1)k[Y].l(X);X.forEach(h),F.forEach(h),D.forEach(h),this.h()},h(){d(s,"class","button is-large"),d(s,"aria-haspopup","true"),d(s,"aria-controls","dropdown-menu"),Ve(s,"is-loading",o[9]),d(t,"class","dropdown-trigger"),d(n,"class","dropdown-content"),d(r,"class","dropdown-menu centered-dropdown svelte-p37xol"),d(r,"id","dropdown-menu"),d(r,"role","menu"),d(e,"class","dropdown"),Ve(e,"is-active",o[7])},m(w,D){T(w,e,D),a(e,t),a(t,s),a(s,i),a(e,l),a(e,r),a(r,n);for(let y=0;y<k.length;y+=1)k[y].m(n,null);u||(m=W(s,"click",o[23]),u=!0)},p(w,D){if(D[0]&512&&Ve(s,"is-loading",w[9]),D[0]&3072){b=w[10];let y;for(y=0;y<b.length;y+=1){const H=Lt(w,b,y);k[y]?k[y].p(H,D):(k[y]=es(H),k[y].c(),k[y].m(n,null))}for(;y<k.length;y+=1)k[y].d(1);k.length=b.length}D[0]&128&&Ve(e,"is-active",w[7])},d(w){w&&h(e),ne(k,w),u=!1,m()}}}function ys(o){let e;function t(l,r){return l[2]?ws:gs}let s=t(o),i=s(o);return{c(){i.c(),e=jt()},l(l){i.l(l),e=jt()},m(l,r){i.m(l,r),T(l,e,r)},p(l,r){s===(s=t(l))&&i?i.p(l,r):(i.d(1),i=s(l),i&&(i.c(),i.m(e.parentNode,e)))},d(l){i.d(l),l&&h(e)}}}function es(o){let e,t=o[33]+"",s,i,l,r;function n(){return o[24](o[33])}return{c(){e=f("a"),s=S(t),i=E(),this.h()},l(u){e=p(u,"A",{href:!0,class:!0});var m=_(e);s=C(m,t),i=V(m),m.forEach(h),this.h()},h(){d(e,"href","#"),d(e,"class","dropdown-item")},m(u,m){T(u,e,m),a(e,s),a(e,i),l||(r=W(e,"click",n),l=!0)},p(u,m){o=u},d(u){u&&h(e),l=!1,r()}}}function gs(o){let e,t,s,i;return{c(){e=f("button"),t=S("\u23F8"),this.h()},l(l){e=p(l,"BUTTON",{class:!0});var r=_(e);t=C(r,"\u23F8"),r.forEach(h),this.h()},h(){d(e,"class","button is-large")},m(l,r){T(l,e,r),a(e,t),s||(i=W(e,"click",o[22]),s=!0)},p:Ee,d(l){l&&h(e),s=!1,i()}}}function ws(o){let e,t,s,i;return{c(){e=f("button"),t=S("\u23F5"),this.h()},l(l){e=p(l,"BUTTON",{class:!0});var r=_(e);t=C(r,"\u23F5"),r.forEach(h),this.h()},h(){d(e,"class","button is-large")},m(l,r){T(l,e,r),a(e,t),s||(i=W(e,"click",o[21]),s=!0)},p:Ee,d(l){l&&h(e),s=!1,i()}}}function ts(o){let e,t,s=o[30].value+"",i,l,r,n,u,m;return{c(){e=f("div"),t=f("span"),i=S(s),r=E(),this.h()},l(b){e=p(b,"DIV",{style:!0,class:!0});var k=_(e);t=p(k,"SPAN",{class:!0});var w=_(t);i=C(w,s),w.forEach(h),r=V(k),k.forEach(h),this.h()},h(){d(t,"class",l=`cell hypothesis hypothesis-${rt(o[30].currentHypothesisNumber)} svelte-p37xol`),d(e,"style",n=`position: relative; margin-left: ${o[30].hypothesisDepth}rem;`),d(e,"class","mb-3 svelte-p37xol"),Ve(e,"invalidated",o[30].type===De.invalidateHypothesis)},m(b,k){T(b,e,k),a(e,t),a(t,i),a(e,r),m=!0},p(b,k){(!m||k[0]&256)&&s!==(s=b[30].value+"")&&it(i,s),(!m||k[0]&256&&l!==(l=`cell hypothesis hypothesis-${rt(b[30].currentHypothesisNumber)} svelte-p37xol`))&&d(t,"class",l),(!m||k[0]&256&&n!==(n=`position: relative; margin-left: ${b[30].hypothesisDepth}rem;`))&&d(e,"style",n),k[0]&256&&Ve(e,"invalidated",b[30].type===De.invalidateHypothesis)},i(b){m||(fs(()=>{u||(u=Tt(e,Pt,{},!0)),u.run(1)}),m=!0)},o(b){u||(u=Tt(e,Pt,{},!1)),u.run(0),m=!1},d(b){b&&h(e),b&&u&&u.end()}}}function Es(o){let e,t,s,i;return{c(){e=f("button"),t=S("Reset"),this.h()},l(l){e=p(l,"BUTTON",{class:!0});var r=_(e);t=C(r,"Reset"),r.forEach(h),this.h()},h(){d(e,"class","button is-warning is-large")},m(l,r){T(l,e,r),a(e,t),s||(i=W(e,"click",o[26]),s=!0)},p:Ee,d(l){l&&h(e),s=!1,i()}}}function Vs(o){let e,t,s,i;return{c(){e=f("button"),t=S("Solve"),this.h()},l(l){e=p(l,"BUTTON",{class:!0});var r=_(e);t=C(r,"Solve"),r.forEach(h),this.h()},h(){d(e,"class","button is-primary is-large")},m(l,r){T(l,e,r),a(e,t),s||(i=W(e,"click",o[25]),s=!0)},p:Ee,d(l){l&&h(e),s=!1,i()}}}function Ds(o){let e,t,s,i,l,r,n,u,m,b,k,w,D,y,H,F,X,Y,O,Z,ce,he,Se,$,B,ee,Ie,Te,x,de,Ae,fe,A,N,U,q,Ce,te,Fe,Xe,L,He,oe,M,Ye,se,Ze,Pe,xe,$e,re,et,pe,le,_e,tt,st,ve,ae,Re,ie,Ne,lt,at,j=o[3]&&Wt(),me=new Array(10),P=[];for(let c=0;c<me.length;c+=1)P[c]=Ft(Qt(o,me,c));let be=new Array(8),R=[];for(let c=0;c<be.length;c+=1)R[c]=Xt(Kt(o,be,c));function ut(c,g){return c[6]?ms:bs}let je=ut(o),z=je(o);function ct(c,g){return c[6]?ys:ks}let Ue=ct(o),G=Ue(o),ue=o[8],I=[];for(let c=0;c<ue.length;c+=1)I[c]=ts(qt(o,ue,c));const ls=c=>At(I[c],1,1,()=>{I[c]=null});function ht(c,g){return c[6]?Es:Vs}let Oe=ht(o),J=Oe(o);return{c(){e=f("section"),t=f("div"),s=f("p"),i=S("Sudoku solver"),l=E(),j&&j.c(),r=E(),n=f("div"),u=f("div"),m=f("div"),b=f("h1"),k=S("Legend"),w=E(),D=f("div"),y=f("div"),H=f("h6"),F=S("Possibilities left"),X=E();for(let c=0;c<P.length;c+=1)P[c].c();Y=E(),O=f("div"),Z=f("h6"),ce=S("Hypothesis"),he=E();for(let c=0;c<R.length;c+=1)R[c].c();Se=E(),$=f("div"),B=f("div"),ee=f("h6"),Ie=S("Decision type"),Te=E(),x=f("div"),de=f("span"),Ae=E(),fe=f("span"),A=S(": hypothesis (or input)"),N=E(),U=f("div"),q=f("span"),Ce=E(),te=f("span"),Fe=S(": deduction"),Xe=E(),L=f("div"),z.c(),He=E(),oe=f("div"),M=f("input"),Ye=E(),se=f("div"),Ze=S("Time between decisions: "),Pe=S(o[0]),xe=S(" ms"),$e=E(),re=f("div"),G.c(),et=E(),pe=f("div"),le=f("div"),_e=f("h1"),tt=S("Hypothesis stack"),st=E(),ve=f("div"),ae=f("div");for(let c=0;c<I.length;c+=1)I[c].c();Re=E(),ie=f("div"),J.c(),this.h()},l(c){e=p(c,"SECTION",{class:!0});var g=_(e);t=p(g,"DIV",{class:!0});var v=_(t);s=p(v,"P",{class:!0});var K=_(s);i=C(K,"Sudoku solver"),K.forEach(h),v.forEach(h),g.forEach(h),l=V(c),j&&j.l(c),r=V(c),n=p(c,"DIV",{class:!0});var ke=_(n);u=p(ke,"DIV",{class:!0,style:!0});var dt=_(u);m=p(dt,"DIV",{class:!0});var ye=_(m);b=p(ye,"H1",{class:!0});var ft=_(b);k=C(ft,"Legend"),ft.forEach(h),w=V(ye),D=p(ye,"DIV",{class:!0});var Be=_(D);y=p(Be,"DIV",{class:!0});var qe=_(y);H=p(qe,"H6",{class:!0});var pt=_(H);F=C(pt,"Possibilities left"),pt.forEach(h),X=V(qe);for(let Q=0;Q<P.length;Q+=1)P[Q].l(qe);qe.forEach(h),Y=V(Be),O=p(Be,"DIV",{class:!0});var Le=_(O);Z=p(Le,"H6",{class:!0});var _t=_(Z);ce=C(_t,"Hypothesis"),_t.forEach(h),he=V(Le);for(let Q=0;Q<R.length;Q+=1)R[Q].l(Le);Le.forEach(h),Be.forEach(h),Se=V(ye),$=p(ye,"DIV",{class:!0});var vt=_($);B=p(vt,"DIV",{class:!0});var ge=_(B);ee=p(ge,"H6",{class:!0});var mt=_(ee);Ie=C(mt,"Decision type"),mt.forEach(h),Te=V(ge),x=p(ge,"DIV",{class:!0});var Me=_(x);de=p(Me,"SPAN",{class:!0}),_(de).forEach(h),Ae=V(Me),fe=p(Me,"SPAN",{});var bt=_(fe);A=C(bt,": hypothesis (or input)"),bt.forEach(h),Me.forEach(h),N=V(ge),U=p(ge,"DIV",{class:!0});var ze=_(U);q=p(ze,"SPAN",{class:!0}),_(q).forEach(h),Ce=V(ze),te=p(ze,"SPAN",{});var kt=_(te);Fe=C(kt,": deduction"),kt.forEach(h),ze.forEach(h),ge.forEach(h),vt.forEach(h),ye.forEach(h),dt.forEach(h),Xe=V(ke),L=p(ke,"DIV",{class:!0,style:!0});var we=_(L);z.l(we),He=V(we),oe=p(we,"DIV",{});var Ge=_(oe);M=p(Ge,"INPUT",{style:!0,type:!0,min:!0,max:!0}),Ye=V(Ge),se=p(Ge,"DIV",{style:!0});var Je=_(se);Ze=C(Je,"Time between decisions: "),Pe=C(Je,o[0]),xe=C(Je," ms"),Je.forEach(h),Ge.forEach(h),$e=V(we),re=p(we,"DIV",{class:!0});var yt=_(re);G.l(yt),yt.forEach(h),we.forEach(h),et=V(ke),pe=p(ke,"DIV",{class:!0});var gt=_(pe);le=p(gt,"DIV",{class:!0});var Ke=_(le);_e=p(Ke,"H1",{class:!0});var wt=_(_e);tt=C(wt,"Hypothesis stack"),wt.forEach(h),st=V(Ke),ve=p(Ke,"DIV",{class:!0});var Et=_(ve);ae=p(Et,"DIV",{class:!0});var Vt=_(ae);for(let Q=0;Q<I.length;Q+=1)I[Q].l(Vt);Vt.forEach(h),Et.forEach(h),Ke.forEach(h),gt.forEach(h),ke.forEach(h),Re=V(c),ie=p(c,"DIV",{class:!0});var Dt=_(ie);J.l(Dt),Dt.forEach(h),this.h()},h(){d(s,"class","title is-1"),d(t,"class","hero-body"),d(e,"class","hero"),d(b,"class","title is-4"),d(H,"class","title is-6"),d(y,"class","col-6 mr-3"),d(Z,"class","title is-6"),d(O,"class","col-6 ml-3"),d(D,"class","row svelte-p37xol"),d(ee,"class","title is-6"),d(de,"class","cell hypothesis svelte-p37xol"),d(x,"class","is-flex is-align-content-space-between"),d(q,"class","cell deduction svelte-p37xol"),d(U,"class","is-flex is-align-content-space-between"),d(B,"class","col-12"),d($,"class","row mt-3 svelte-p37xol"),d(m,"class","box legend svelte-p37xol"),d(u,"class","spacer block svelte-p37xol"),Qe(u,"order","0"),Qe(M,"width","100%"),d(M,"type","range"),d(M,"min","0"),d(M,"max","5000"),Qe(se,"text-align","center"),d(re,"class","is-flex is-justify-content-space-around"),d(L,"class","is-flex is-flex-direction-column is-justify-content-space-around block"),Qe(L,"order","10"),d(_e,"class","title is-4"),d(ae,"class","svelte-p37xol"),d(ve,"class","svelte-p37xol"),d(le,"class","box logs svelte-p37xol"),d(pe,"class","spacer logs-container block svelte-p37xol"),d(n,"class","input-container svelte-p37xol"),d(ie,"class","mt-4 is-flex-direction-row is-flex is-justify-content-space-around")},m(c,g){T(c,e,g),a(e,t),a(t,s),a(s,i),T(c,l,g),j&&j.m(c,g),T(c,r,g),T(c,n,g),a(n,u),a(u,m),a(m,b),a(b,k),a(m,w),a(m,D),a(D,y),a(y,H),a(H,F),a(y,X);for(let v=0;v<P.length;v+=1)P[v].m(y,null);a(D,Y),a(D,O),a(O,Z),a(Z,ce),a(O,he);for(let v=0;v<R.length;v+=1)R[v].m(O,null);a(m,Se),a(m,$),a($,B),a(B,ee),a(ee,Ie),a(B,Te),a(B,x),a(x,de),a(x,Ae),a(x,fe),a(fe,A),a(B,N),a(B,U),a(U,q),a(U,Ce),a(U,te),a(te,Fe),a(n,Xe),a(n,L),z.m(L,null),a(L,He),a(L,oe),a(oe,M),We(M,o[0]),a(oe,Ye),a(oe,se),a(se,Ze),a(se,Pe),a(se,xe),a(L,$e),a(L,re),G.m(re,null),a(n,et),a(n,pe),a(pe,le),a(le,_e),a(_e,tt),a(le,st),a(le,ve),a(ve,ae);for(let v=0;v<I.length;v+=1)I[v].m(ae,null);T(c,Re,g),T(c,ie,g),J.m(ie,null),Ne=!0,lt||(at=[W(M,"change",o[20]),W(M,"input",o[20])],lt=!0)},p(c,g){if(c[3]?j||(j=Wt(),j.c(),j.m(r.parentNode,r)):j&&(j.d(1),j=null),g&0){me=new Array(10);let v;for(v=0;v<me.length;v+=1){const K=Qt(c,me,v);P[v]?P[v].p(K,g):(P[v]=Ft(K),P[v].c(),P[v].m(y,null))}for(;v<P.length;v+=1)P[v].d(1);P.length=me.length}if(g&0){be=new Array(8);let v;for(v=0;v<be.length;v+=1){const K=Kt(c,be,v);R[v]?R[v].p(K,g):(R[v]=Xt(K),R[v].c(),R[v].m(O,null))}for(;v<R.length;v+=1)R[v].d(1);R.length=be.length}if(je===(je=ut(c))&&z?z.p(c,g):(z.d(1),z=je(c),z&&(z.c(),z.m(L,He))),g[0]&1&&We(M,c[0]),(!Ne||g[0]&1)&&it(Pe,c[0]),Ue===(Ue=ct(c))&&G?G.p(c,g):(G.d(1),G=Ue(c),G&&(G.c(),G.m(re,null))),g[0]&256){ue=c[8];let v;for(v=0;v<ue.length;v+=1){const K=qt(c,ue,v);I[v]?(I[v].p(K,g),nt(I[v],1)):(I[v]=ts(K),I[v].c(),nt(I[v],1),I[v].m(ae,null))}for(_s(),v=ue.length;v<I.length;v+=1)ls(v);ps()}Oe===(Oe=ht(c))&&J?J.p(c,g):(J.d(1),J=Oe(c),J&&(J.c(),J.m(ie,null)))},i(c){if(!Ne){for(let g=0;g<ue.length;g+=1)nt(I[g]);Ne=!0}},o(c){I=I.filter(Boolean);for(let g=0;g<I.length;g+=1)At(I[g]);Ne=!1},d(c){c&&h(e),c&&h(l),j&&j.d(c),c&&h(r),c&&h(n),ne(P,c),ne(R,c),z.d(),G.d(),ne(I,c),c&&h(Re),c&&h(ie),J.d(),lt=!1,Ht(at)}}}function ss(o){return o.value===void 0?`cell possibility-${o.possibleValues.size}`:`cell ${o.reason.type} hypothesis-${rt(o.reason.hypothesisNumber)}`}function rt(o){return o===0?0:(o-1)%7+1}function Ss(o,e,t){let s=1e3,i,l=!1,r=!1;const n=["very_easy","easy","medium","hard","expert"];let u=new Array(9).fill([]).map(()=>new Array(9).fill(void 0));u=[[2,void 0,8,void 0,void 0,void 0,void 0,void 0,1],[void 0,void 0,void 0,void 0,3,void 0,void 0,void 0,4],[void 0,void 0,9,7,void 0,5,void 0,void 0,void 0],[3,void 0,7,5,void 0,void 0,void 0,void 0,void 0],[void 0,void 0,void 0,2,6,3,void 0,void 0,void 0],[void 0,void 0,void 0,void 0,void 0,8,4,void 0,5],[void 0,void 0,void 0,6,void 0,7,2,void 0,void 0],[5,void 0,void 0,void 0,1,void 0,void 0,void 0,void 0],[8,void 0,void 0,void 0,void 0,void 0,9,void 0,6]];let m,b,k=!1,w=!1,D=[];const y=[];let H=!1;async function F(A){t(7,w=!1),t(9,H=!0);try{const N=Math.floor(Math.random()*1e3),q=await(await fetch(`https://www.sudokulovers.com/api/game/random/${A}?cb=${N}`)).json();t(4,u=q.board.map(Ce=>Ce.map(te=>te===null?void 0:te)))}catch{console.warn("api not available")}finally{t(9,H=!1)}}function X(A,N,U){const q=Number.parseInt(U.data);U.data===null?t(4,u[A][N]=void 0,u):!Number.isNaN(q)&&q>0&&q<10?t(4,u[A][N]=q,u):t(4,u[A][N]=i,u)}async function Y(A){for(const N of A)(N.type===De.hypothesis||N.type===De.invalidateHypothesis)&&D.push(N);return t(8,D),t(5,m=b.sudoku),await new Promise(N=>setTimeout(N,s)),l?new Promise(N=>y.push(()=>N(!0))):!0}async function O(){console.log(JSON.stringify(u));try{b=new vs(u,{decisionCallBack:Y}),t(5,m=b.sudoku),t(6,k=!0),await b.solve()}catch{t(3,r=!0)}console.log(b.emptyCellsCount)}function Z(){b.interrupt=!0,t(6,k=!1),t(8,D=[]),t(3,r=!1),t(2,l=!1)}function ce(){t(2,l=!0)}function he(){for(;y.length>0;)y.pop()();t(2,l=!1)}const Se=(A,N)=>t(1,i=A);function $(A,N){A[N]=ot(this.value),t(4,u)}const B=(A,N,U)=>X(A,N,U);function ee(){s=ot(this.value),t(0,s)}return[s,i,l,r,u,m,k,w,D,H,n,F,X,O,Z,ce,he,Se,$,B,ee,()=>he(),()=>ce(),()=>t(7,w=!w),A=>F(A),()=>O(),()=>Z()]}class Is extends cs{constructor(e){super();hs(this,e,Ss,Ds,ds,{},null,[-1,-1])}}export{Is as default};
