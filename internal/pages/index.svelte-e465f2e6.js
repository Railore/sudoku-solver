var is=Object.defineProperty,ns=Object.defineProperties;var os=Object.getOwnPropertyDescriptors;var Ct=Object.getOwnPropertySymbols;var rs=Object.prototype.hasOwnProperty,as=Object.prototype.propertyIsEnumerable;var Nt=(o,e,t)=>e in o?is(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,It=(o,e)=>{for(var t in e||(e={}))rs.call(e,t)&&Nt(o,t,e[t]);if(Ct)for(var t of Ct(e))as.call(e,t)&&Nt(o,t,e[t]);return o},Tt=(o,e)=>ns(o,os(e));import{T as us,S as cs,i as hs,s as ds,e as f,t as C,c as p,a as _,h as N,d as h,b as d,g as T,J as a,k as E,m as V,K as Ee,L as Ve,j as it,M as fs,N as Ht,f as Fe,O as Xe,P as W,q as nt,o as At,p as ps,Q as ie,R as Pt,U as Ut,n as _s,V as ot,W as Rt,l as Ot}from"../chunks/vendor-cad07985.js";class jt{constructor(e){var t,s;this.value=void 0,this.possibleValues=new Set(Object.keys(new Array(9).fill(0)).map(i=>Number.parseInt(i)+1)),(e==null?void 0:e.possibleValues)&&(this.possibleValues=new Set(e.possibleValues)),(e==null?void 0:e.value)&&this.select(e.value,((t=e==null?void 0:e.reason)==null?void 0:t.type)==="hypothesis",(s=e==null?void 0:e.reason)==null?void 0:s.hypothesisNumber)}select(e,t,s){this.value=e,this.possibleValues=new Set,this.reason={type:t?"hypothesis":"deduction",hypothesisNumber:s}}}class Bt extends Error{}class rt extends Error{constructor(e,t){super(`Error: Dead cell at (${e},${t})`);this.i=e,this.j=t}}var Se;(function(o){o[o.hypothesis=0]="hypothesis",o[o.deductions=1]="deductions",o[o.invalidateHypothesis=2]="invalidateHypothesis"})(Se||(Se={}));class vs{constructor(e,t){this.decisionCallBack=async()=>!0,this.emptyCellsCount=81,this.hypothesisNumber=0,this.hypothesisStack=[],this.sudokuSavesStack=[],this.solveTimer=new us,this.interrupt=!1,Object.assign(this,t),this.nRow=e.length,this.nCol=e[0].length,this.initSudoku();for(let s=0;s<this.nRow;s++)for(let i=0;i<this.nCol;i++)e[s][i]!==void 0&&this.select(s,i,e[s][i],!0)}async solve(){for(this.solveTimer.start();this.emptyCellsCount>0&&!this.interrupt;){try{if(await this.deductionLoop(),this.emptyCellsCount<=0||this.interrupt)break}catch(e){await this.handleErrors(e);continue}await this.makeHypothesis()}this.solveTimer.stop(),this.interrupt||console.log(`Computation time : ${this.solveTimer.ms()} ms`)}cloneSudoku(){return this.sudoku.map(e=>e.map(t=>new jt(t)))}async makeHypothesis(){const e=this.cloneSudoku();let t=this.nRow*this.nCol,s=-1,i=-1;for(let u=0;u<this.nRow;u++)for(let m=0;m<this.nCol;m++)e[u][m].value===void 0&&e[u][m].possibleValues.size<t&&(t=e[u][m].possibleValues.size,s=u,i=m);const l=Array.from(e[s][i].possibleValues.values()),r=l[Math.floor(Math.random()*l.length)],n={i:s,j:i,value:r,number:++this.hypothesisNumber};console.log("making hypothesis,",n),this.sudokuSavesStack.push(this.sudoku),this.hypothesisStack.push(n),this.sudoku=e,this.select(s,i,r,!0),await this.callDecisionCallback(0,[n])}async handleErrors(e){if(e instanceof Bt||e instanceof rt)if(this.hypothesisStack.length){const t=this.undoLastHypothesis(),{i:s,j:i,value:l}=t;this.sudoku[s][i].possibleValues.delete(l),await this.callDecisionCallback(2,[t])}else throw e;else throw e}undoLastHypothesis(){return console.log("undoing last hypothesis"),this.sudoku=this.sudokuSavesStack.pop(),this.emptyCellsCount=this.sudoku.reduce((e,t)=>e+t.reduce((s,i)=>i.value===void 0?s+1:s,0),0),this.hypothesisStack.pop()}async deductionLoop(){let e=[];do{for(const[t,{i:s,j:i,value:l}]of Object.entries(e))if(this.sudoku[s][i].possibleValues.has(l))this.select(s,i,l);else throw await this.callDecisionCallback(1,e.slice(0,Number.parseInt(t))),new rt(s,i);e.length&&await this.callDecisionCallback(1,e),e=this.findDeductions()}while(e.length>0)}findDeductions(){const e=[];for(let t=0;t<this.nRow;t++)for(let s=0;s<this.nCol;s++){if(this.sudoku[t][s].possibleValues.size===0&&this.sudoku[t][s].value===void 0)throw new rt(t,s);this.sudoku[t][s].possibleValues.size===1&&e.push({i:t,j:s,value:this.sudoku[t][s].possibleValues.values().next().value})}return e}initSudoku(){this.sudoku=new Array(this.nRow).fill([]).map(e=>new Array(this.nCol).fill({}).map(t=>new jt))}select(e,t,s,i=!1){if(!this.sudoku[e][t].possibleValues.has(s))throw new Bt;this.sudoku[e][t].select(s,i,this.hypothesisNumber),this.emptyCellsCount--,this.makeUnavailableToCol(t,s),this.makeUnavailableToRow(e,s),this.makeUnavailableToSquare(e,t,s)}makeUnavailableToSquare(e,t,s){const i=e-e%3,l=i+3,r=t-t%3,n=r+3;for(let u=i;u<l;u++)for(let m=r;m<n;m++)this.sudoku[u][m].possibleValues.delete(s)}makeUnavailableToRow(e,t){for(let s=0;s<this.nCol;s++)this.sudoku[e][s].possibleValues.delete(t)}makeUnavailableToCol(e,t){for(let s=0;s<this.nRow;s++)this.sudoku[s][e].possibleValues.delete(t)}async callDecisionCallback(e,t){this.solveTimer.pause(),await this.decisionCallBack(t.map(i=>{var l;return Tt(It({},i),{type:e,hypothesisDepth:this.hypothesisStack.length+(e===2?1:0),currentHypothesisNumber:(l=i==null?void 0:i.number)!=null?l:this.hypothesisNumber})}))||(this.interrupt=!0),this.solveTimer.resume()}}function qt(o,e,t){const s=o.slice();return s[30]=e[t],s}function Lt(o,e,t){const s=o.slice();return s[33]=e[t],s}function Mt(o,e,t){const s=o.slice();return s[36]=e[t],s}function zt(o,e,t){const s=o.slice();return s[44]=e[t],s}function Jt(o,e,t){const s=o.slice();return s[36]=e[t],s[38]=t,s}function Gt(o,e,t){const s=o.slice();return s[39]=e[t],s[40]=e,s[41]=t,s}function Kt(o,e,t){const s=o.slice();return s[47]=e[t],s[49]=t,s}function Qt(o,e,t){const s=o.slice();return s[47]=e[t],s[49]=t,s}function Wt(o){let e,t;return{c(){e=f("div"),t=C("The entered sudoku is invalid."),this.h()},l(s){e=p(s,"DIV",{class:!0});var i=_(e);t=N(i,"The entered sudoku is invalid."),i.forEach(h),this.h()},h(){d(e,"class","notification is-danger mr-6 ml-6")},m(s,i){T(s,e,i),a(e,t)},d(s){s&&h(e)}}}function Ft(o){let e,t,s,i,l,r,n,u;return{c(){e=f("div"),t=f("span"),i=E(),l=f("span"),r=C(": "),n=C(o[49]),u=E(),this.h()},l(m){e=p(m,"DIV",{class:!0});var b=_(e);t=p(b,"SPAN",{class:!0}),_(t).forEach(h),i=V(b),l=p(b,"SPAN",{});var k=_(l);r=N(k,": "),n=N(k,o[49]),k.forEach(h),u=V(b),b.forEach(h),this.h()},h(){d(t,"class",s="cell "+("possibility-"+String(o[49]))+" svelte-p37xol"),d(e,"class","is-flex")},m(m,b){T(m,e,b),a(e,t),a(e,i),a(e,l),a(l,r),a(l,n),a(e,u)},p:Ee,d(m){m&&h(e)}}}function Xt(o){let e,t,s,i,l,r,n,u;return{c(){e=f("div"),t=f("span"),i=E(),l=f("span"),r=C(": "),n=C(o[49]),u=E(),this.h()},l(m){e=p(m,"DIV",{class:!0});var b=_(e);t=p(b,"SPAN",{class:!0}),_(t).forEach(h),i=V(b),l=p(b,"SPAN",{});var k=_(l);r=N(k,": "),n=N(k,o[49]),k.forEach(h),u=V(b),b.forEach(h),this.h()},h(){d(t,"class",s="cell "+("hypothesis hypothesis-"+String(o[49]))+" svelte-p37xol"),d(e,"class","is-flex")},m(m,b){T(m,e,b),a(e,t),a(e,i),a(e,l),a(l,r),a(l,n),a(e,u)},p:Ee,d(m){m&&h(e)}}}function ms(o){let e,t,s=o[5],i=[];for(let l=0;l<s.length;l+=1)i[l]=Zt(Mt(o,s,l));return{c(){e=f("div"),t=f("div");for(let l=0;l<i.length;l+=1)i[l].c();this.h()},l(l){e=p(l,"DIV",{class:!0});var r=_(e);t=p(r,"DIV",{class:!0});var n=_(t);for(let u=0;u<i.length;u+=1)i[u].l(n);n.forEach(h),r.forEach(h),this.h()},h(){d(t,"class","sudoku-container svelte-p37xol"),d(e,"class","box")},m(l,r){T(l,e,r),a(e,t);for(let n=0;n<i.length;n+=1)i[n].m(t,null)},p(l,r){if(r[0]&33){s=l[5];let n;for(n=0;n<s.length;n+=1){const u=Mt(l,s,n);i[n]?i[n].p(u,r):(i[n]=Zt(u),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=s.length}},d(l){l&&h(e),ie(i,l)}}}function bs(o){let e,t,s=o[4],i=[];for(let l=0;l<s.length;l+=1)i[l]=$t(Jt(o,s,l));return{c(){e=f("div"),t=f("div");for(let l=0;l<i.length;l+=1)i[l].c();this.h()},l(l){e=p(l,"DIV",{class:!0});var r=_(e);t=p(r,"DIV",{class:!0});var n=_(t);for(let u=0;u<i.length;u+=1)i[u].l(n);n.forEach(h),r.forEach(h),this.h()},h(){d(t,"class","sudoku-container svelte-p37xol"),d(e,"class","box")},m(l,r){T(l,e,r),a(e,t);for(let n=0;n<i.length;n+=1)i[n].m(t,null)},p(l,r){if(r[0]&4114){s=l[4];let n;for(n=0;n<s.length;n+=1){const u=Jt(l,s,n);i[n]?i[n].p(u,r):(i[n]=$t(u),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=s.length}},d(l){l&&h(e),ie(i,l)}}}function Yt(o){let e,t=(o[44].value===void 0?"":o[44].value)+"",s,i,l;return{c(){e=f("span"),s=C(t),this.h()},l(r){e=p(r,"SPAN",{class:!0,style:!0});var n=_(e);s=N(n,t),n.forEach(h),this.h()},h(){d(e,"class",i=""+(Rt(ss(o[44]))+" svelte-p37xol")),d(e,"style",l=`transition: all ${o[0]/2e3}s ease-in-out;`)},m(r,n){T(r,e,n),a(e,s)},p(r,n){n[0]&32&&t!==(t=(r[44].value===void 0?"":r[44].value)+"")&&it(s,t),n[0]&32&&i!==(i=""+(Rt(ss(r[44]))+" svelte-p37xol"))&&d(e,"class",i),n[0]&1&&l!==(l=`transition: all ${r[0]/2e3}s ease-in-out;`)&&d(e,"style",l)},d(r){r&&h(e)}}}function Zt(o){let e,t,s=o[36],i=[];for(let l=0;l<s.length;l+=1)i[l]=Yt(zt(o,s,l));return{c(){e=f("div");for(let l=0;l<i.length;l+=1)i[l].c();t=E(),this.h()},l(l){e=p(l,"DIV",{class:!0});var r=_(e);for(let n=0;n<i.length;n+=1)i[n].l(r);t=V(r),r.forEach(h),this.h()},h(){d(e,"class","row svelte-p37xol")},m(l,r){T(l,e,r);for(let n=0;n<i.length;n+=1)i[n].m(e,null);a(e,t)},p(l,r){if(r[0]&33){s=l[36];let n;for(n=0;n<s.length;n+=1){const u=zt(l,s,n);i[n]?i[n].p(u,r):(i[n]=Yt(u),i[n].c(),i[n].m(e,t))}for(;n<i.length;n+=1)i[n].d(1);i.length=s.length}},d(l){l&&h(e),ie(i,l)}}}function xt(o){let e,t,s;function i(...n){return o[17](o[39],...n)}function l(){o[18].call(e,o[40],o[41])}function r(...n){return o[19](o[38],o[41],...n)}return{c(){e=f("input"),this.h()},l(n){e=p(n,"INPUT",{type:!0,class:!0}),this.h()},h(){d(e,"type","number"),d(e,"class","cell svelte-p37xol")},m(n,u){T(n,e,u),Xe(e,o[39]),t||(s=[W(e,"input",i),W(e,"input",l),W(e,"input",r)],t=!0)},p(n,u){o=n,u[0]&16&&ot(e.value)!==o[39]&&Xe(e,o[39])},d(n){n&&h(e),t=!1,Pt(s)}}}function $t(o){let e,t,s=o[36],i=[];for(let l=0;l<s.length;l+=1)i[l]=xt(Gt(o,s,l));return{c(){e=f("div");for(let l=0;l<i.length;l+=1)i[l].c();t=E(),this.h()},l(l){e=p(l,"DIV",{class:!0});var r=_(e);for(let n=0;n<i.length;n+=1)i[n].l(r);t=V(r),r.forEach(h),this.h()},h(){d(e,"class","row svelte-p37xol")},m(l,r){T(l,e,r);for(let n=0;n<i.length;n+=1)i[n].m(e,null);a(e,t)},p(l,r){if(r[0]&4114){s=l[36];let n;for(n=0;n<s.length;n+=1){const u=Gt(l,s,n);i[n]?i[n].p(u,r):(i[n]=xt(u),i[n].c(),i[n].m(e,t))}for(;n<i.length;n+=1)i[n].d(1);i.length=s.length}},d(l){l&&h(e),ie(i,l)}}}function ks(o){let e,t,s,i,l,r,n,u,m,b=o[10],k=[];for(let w=0;w<b.length;w+=1)k[w]=es(Lt(o,b,w));return{c(){e=f("div"),t=f("div"),s=f("button"),i=C("\u21BB"),l=E(),r=f("div"),n=f("div");for(let w=0;w<k.length;w+=1)k[w].c();this.h()},l(w){e=p(w,"DIV",{class:!0});var S=_(e);t=p(S,"DIV",{class:!0});var y=_(t);s=p(y,"BUTTON",{class:!0,"aria-haspopup":!0,"aria-controls":!0});var A=_(s);i=N(A,"\u21BB"),A.forEach(h),y.forEach(h),l=V(S),r=p(S,"DIV",{class:!0,id:!0,role:!0});var F=_(r);n=p(F,"DIV",{class:!0});var X=_(n);for(let Y=0;Y<k.length;Y+=1)k[Y].l(X);X.forEach(h),F.forEach(h),S.forEach(h),this.h()},h(){d(s,"class","button is-large"),d(s,"aria-haspopup","true"),d(s,"aria-controls","dropdown-menu"),Ve(s,"is-loading",o[9]),d(t,"class","dropdown-trigger"),d(n,"class","dropdown-content"),d(r,"class","dropdown-menu centered-dropdown svelte-p37xol"),d(r,"id","dropdown-menu"),d(r,"role","menu"),d(e,"class","dropdown"),Ve(e,"is-active",o[7])},m(w,S){T(w,e,S),a(e,t),a(t,s),a(s,i),a(e,l),a(e,r),a(r,n);for(let y=0;y<k.length;y+=1)k[y].m(n,null);u||(m=W(s,"click",o[23]),u=!0)},p(w,S){if(S[0]&512&&Ve(s,"is-loading",w[9]),S[0]&3072){b=w[10];let y;for(y=0;y<b.length;y+=1){const A=Lt(w,b,y);k[y]?k[y].p(A,S):(k[y]=es(A),k[y].c(),k[y].m(n,null))}for(;y<k.length;y+=1)k[y].d(1);k.length=b.length}S[0]&128&&Ve(e,"is-active",w[7])},d(w){w&&h(e),ie(k,w),u=!1,m()}}}function ys(o){let e;function t(l,r){return l[2]?ws:gs}let s=t(o),i=s(o);return{c(){i.c(),e=Ot()},l(l){i.l(l),e=Ot()},m(l,r){i.m(l,r),T(l,e,r)},p(l,r){s===(s=t(l))&&i?i.p(l,r):(i.d(1),i=s(l),i&&(i.c(),i.m(e.parentNode,e)))},d(l){i.d(l),l&&h(e)}}}function es(o){let e,t=o[33]+"",s,i,l,r;function n(){return o[24](o[33])}return{c(){e=f("button"),s=C(t),i=E(),this.h()},l(u){e=p(u,"BUTTON",{class:!0});var m=_(e);s=N(m,t),i=V(m),m.forEach(h),this.h()},h(){d(e,"class","button is-fullwidth dropdown-item is-white")},m(u,m){T(u,e,m),a(e,s),a(e,i),l||(r=W(e,"click",n),l=!0)},p(u,m){o=u},d(u){u&&h(e),l=!1,r()}}}function gs(o){let e,t,s,i;return{c(){e=f("button"),t=C("\u23F8"),this.h()},l(l){e=p(l,"BUTTON",{class:!0});var r=_(e);t=N(r,"\u23F8"),r.forEach(h),this.h()},h(){d(e,"class","button is-large")},m(l,r){T(l,e,r),a(e,t),s||(i=W(e,"click",o[22]),s=!0)},p:Ee,d(l){l&&h(e),s=!1,i()}}}function ws(o){let e,t,s,i;return{c(){e=f("button"),t=C("\u23F5"),this.h()},l(l){e=p(l,"BUTTON",{class:!0});var r=_(e);t=N(r,"\u23F5"),r.forEach(h),this.h()},h(){d(e,"class","button is-large")},m(l,r){T(l,e,r),a(e,t),s||(i=W(e,"click",o[21]),s=!0)},p:Ee,d(l){l&&h(e),s=!1,i()}}}function ts(o){let e,t,s=o[30].value+"",i,l,r,n,u,m;return{c(){e=f("div"),t=f("span"),i=C(s),r=E(),this.h()},l(b){e=p(b,"DIV",{style:!0,class:!0});var k=_(e);t=p(k,"SPAN",{class:!0});var w=_(t);i=N(w,s),w.forEach(h),r=V(k),k.forEach(h),this.h()},h(){d(t,"class",l=`cell hypothesis hypothesis-${at(o[30].currentHypothesisNumber)} svelte-p37xol`),d(e,"style",n=`position: relative; margin-left: ${o[30].hypothesisDepth}rem;`),d(e,"class","mb-3 svelte-p37xol"),Ve(e,"invalidated",o[30].type===Se.invalidateHypothesis)},m(b,k){T(b,e,k),a(e,t),a(t,i),a(e,r),m=!0},p(b,k){(!m||k[0]&256)&&s!==(s=b[30].value+"")&&it(i,s),(!m||k[0]&256&&l!==(l=`cell hypothesis hypothesis-${at(b[30].currentHypothesisNumber)} svelte-p37xol`))&&d(t,"class",l),(!m||k[0]&256&&n!==(n=`position: relative; margin-left: ${b[30].hypothesisDepth}rem;`))&&d(e,"style",n),k[0]&256&&Ve(e,"invalidated",b[30].type===Se.invalidateHypothesis)},i(b){m||(fs(()=>{u||(u=Ht(e,Ut,{},!0)),u.run(1)}),m=!0)},o(b){u||(u=Ht(e,Ut,{},!1)),u.run(0),m=!1},d(b){b&&h(e),b&&u&&u.end()}}}function Es(o){let e,t,s,i;return{c(){e=f("button"),t=C("Reset"),this.h()},l(l){e=p(l,"BUTTON",{class:!0});var r=_(e);t=N(r,"Reset"),r.forEach(h),this.h()},h(){d(e,"class","button is-warning is-large")},m(l,r){T(l,e,r),a(e,t),s||(i=W(e,"click",o[26]),s=!0)},p:Ee,d(l){l&&h(e),s=!1,i()}}}function Vs(o){let e,t,s,i;return{c(){e=f("button"),t=C("Solve"),this.h()},l(l){e=p(l,"BUTTON",{class:!0});var r=_(e);t=N(r,"Solve"),r.forEach(h),this.h()},h(){d(e,"class","button is-primary is-large")},m(l,r){T(l,e,r),a(e,t),s||(i=W(e,"click",o[25]),s=!0)},p:Ee,d(l){l&&h(e),s=!1,i()}}}function Ss(o){let e,t,s,i,l,r,n,u,m,b,k,w,S,y,A,F,X,Y,B,Z,ce,he,De,$,q,ee,Te,He,x,de,Ae,fe,H,D,R,L,Pe,ne,Ce,Ne,O,Ue,oe,M,Ye,te,Ze,Re,xe,$e,re,et,pe,se,_e,tt,st,ve,ae,Oe,le,Ie,lt,ut,j=o[3]&&Wt(),me=new Array(10),P=[];for(let c=0;c<me.length;c+=1)P[c]=Ft(Qt(o,me,c));let be=new Array(8),U=[];for(let c=0;c<be.length;c+=1)U[c]=Xt(Kt(o,be,c));function ct(c,g){return c[6]?ms:bs}let je=ct(o),z=je(o);function ht(c,g){return c[6]?ys:ks}let Be=ht(o),J=Be(o),ue=o[8],I=[];for(let c=0;c<ue.length;c+=1)I[c]=ts(qt(o,ue,c));const ls=c=>At(I[c],1,1,()=>{I[c]=null});function dt(c,g){return c[6]?Es:Vs}let qe=dt(o),G=qe(o);return{c(){e=f("section"),t=f("div"),s=f("p"),i=C("Sudoku solver"),l=E(),j&&j.c(),r=E(),n=f("div"),u=f("div"),m=f("div"),b=f("h1"),k=C("Legend"),w=E(),S=f("div"),y=f("div"),A=f("h6"),F=C("Possibilities left"),X=E();for(let c=0;c<P.length;c+=1)P[c].c();Y=E(),B=f("div"),Z=f("h6"),ce=C("Hypothesis"),he=E();for(let c=0;c<U.length;c+=1)U[c].c();De=E(),$=f("div"),q=f("div"),ee=f("h6"),Te=C("Decision type"),He=E(),x=f("div"),de=f("span"),Ae=E(),fe=f("span"),H=C(": hypothesis (or input)"),D=E(),R=f("div"),L=f("span"),Pe=E(),ne=f("span"),Ce=C(": deduction"),Ne=E(),O=f("div"),z.c(),Ue=E(),oe=f("div"),M=f("input"),Ye=E(),te=f("div"),Ze=C("Time between decisions: "),Re=C(o[0]),xe=C(" ms"),$e=E(),re=f("div"),J.c(),et=E(),pe=f("div"),se=f("div"),_e=f("h1"),tt=C("Hypothesis stack"),st=E(),ve=f("div"),ae=f("div");for(let c=0;c<I.length;c+=1)I[c].c();Oe=E(),le=f("div"),G.c(),this.h()},l(c){e=p(c,"SECTION",{class:!0});var g=_(e);t=p(g,"DIV",{class:!0});var v=_(t);s=p(v,"P",{class:!0});var K=_(s);i=N(K,"Sudoku solver"),K.forEach(h),v.forEach(h),g.forEach(h),l=V(c),j&&j.l(c),r=V(c),n=p(c,"DIV",{class:!0});var ke=_(n);u=p(ke,"DIV",{class:!0,style:!0});var ft=_(u);m=p(ft,"DIV",{class:!0});var ye=_(m);b=p(ye,"H1",{class:!0});var pt=_(b);k=N(pt,"Legend"),pt.forEach(h),w=V(ye),S=p(ye,"DIV",{class:!0});var Le=_(S);y=p(Le,"DIV",{class:!0});var Me=_(y);A=p(Me,"H6",{class:!0});var _t=_(A);F=N(_t,"Possibilities left"),_t.forEach(h),X=V(Me);for(let Q=0;Q<P.length;Q+=1)P[Q].l(Me);Me.forEach(h),Y=V(Le),B=p(Le,"DIV",{class:!0});var ze=_(B);Z=p(ze,"H6",{class:!0});var vt=_(Z);ce=N(vt,"Hypothesis"),vt.forEach(h),he=V(ze);for(let Q=0;Q<U.length;Q+=1)U[Q].l(ze);ze.forEach(h),Le.forEach(h),De=V(ye),$=p(ye,"DIV",{class:!0});var mt=_($);q=p(mt,"DIV",{class:!0});var ge=_(q);ee=p(ge,"H6",{class:!0});var bt=_(ee);Te=N(bt,"Decision type"),bt.forEach(h),He=V(ge),x=p(ge,"DIV",{class:!0});var Je=_(x);de=p(Je,"SPAN",{class:!0}),_(de).forEach(h),Ae=V(Je),fe=p(Je,"SPAN",{});var kt=_(fe);H=N(kt,": hypothesis (or input)"),kt.forEach(h),Je.forEach(h),D=V(ge),R=p(ge,"DIV",{class:!0});var Ge=_(R);L=p(Ge,"SPAN",{class:!0}),_(L).forEach(h),Pe=V(Ge),ne=p(Ge,"SPAN",{});var yt=_(ne);Ce=N(yt,": deduction"),yt.forEach(h),Ge.forEach(h),ge.forEach(h),mt.forEach(h),ye.forEach(h),ft.forEach(h),Ne=V(ke),O=p(ke,"DIV",{class:!0,style:!0});var we=_(O);z.l(we),Ue=V(we),oe=p(we,"DIV",{});var Ke=_(oe);M=p(Ke,"INPUT",{style:!0,type:!0,min:!0,max:!0}),Ye=V(Ke),te=p(Ke,"DIV",{style:!0});var Qe=_(te);Ze=N(Qe,"Time between decisions: "),Re=N(Qe,o[0]),xe=N(Qe," ms"),Qe.forEach(h),Ke.forEach(h),$e=V(we),re=p(we,"DIV",{class:!0});var gt=_(re);J.l(gt),gt.forEach(h),we.forEach(h),et=V(ke),pe=p(ke,"DIV",{class:!0});var wt=_(pe);se=p(wt,"DIV",{class:!0});var We=_(se);_e=p(We,"H1",{class:!0});var Et=_(_e);tt=N(Et,"Hypothesis stack"),Et.forEach(h),st=V(We),ve=p(We,"DIV",{class:!0});var Vt=_(ve);ae=p(Vt,"DIV",{class:!0});var St=_(ae);for(let Q=0;Q<I.length;Q+=1)I[Q].l(St);St.forEach(h),Vt.forEach(h),We.forEach(h),wt.forEach(h),ke.forEach(h),Oe=V(c),le=p(c,"DIV",{class:!0});var Dt=_(le);G.l(Dt),Dt.forEach(h),this.h()},h(){d(s,"class","title is-1"),d(t,"class","hero-body"),d(e,"class","hero"),d(b,"class","title is-4"),d(A,"class","title is-6"),d(y,"class","col-6 mr-3"),d(Z,"class","title is-6"),d(B,"class","col-6 ml-3"),d(S,"class","row svelte-p37xol"),d(ee,"class","title is-6"),d(de,"class","cell hypothesis svelte-p37xol"),d(x,"class","is-flex is-align-content-space-between"),d(L,"class","cell deduction svelte-p37xol"),d(R,"class","is-flex is-align-content-space-between"),d(q,"class","col-12"),d($,"class","row mt-3 svelte-p37xol"),d(m,"class","box legend svelte-p37xol"),d(u,"class","spacer block svelte-p37xol"),Fe(u,"order","0"),Fe(M,"width","100%"),d(M,"type","range"),d(M,"min","0"),d(M,"max","5000"),Fe(te,"text-align","center"),d(re,"class","is-flex is-justify-content-space-around"),d(O,"class","is-flex is-flex-direction-column is-justify-content-space-around block"),Fe(O,"order","10"),d(_e,"class","title is-4"),d(ae,"class","svelte-p37xol"),d(ve,"class","svelte-p37xol"),d(se,"class","box logs svelte-p37xol"),d(pe,"class","spacer logs-container block svelte-p37xol"),d(n,"class","input-container svelte-p37xol"),d(le,"class","mt-4 is-flex-direction-row is-flex is-justify-content-space-around")},m(c,g){T(c,e,g),a(e,t),a(t,s),a(s,i),T(c,l,g),j&&j.m(c,g),T(c,r,g),T(c,n,g),a(n,u),a(u,m),a(m,b),a(b,k),a(m,w),a(m,S),a(S,y),a(y,A),a(A,F),a(y,X);for(let v=0;v<P.length;v+=1)P[v].m(y,null);a(S,Y),a(S,B),a(B,Z),a(Z,ce),a(B,he);for(let v=0;v<U.length;v+=1)U[v].m(B,null);a(m,De),a(m,$),a($,q),a(q,ee),a(ee,Te),a(q,He),a(q,x),a(x,de),a(x,Ae),a(x,fe),a(fe,H),a(q,D),a(q,R),a(R,L),a(R,Pe),a(R,ne),a(ne,Ce),a(n,Ne),a(n,O),z.m(O,null),a(O,Ue),a(O,oe),a(oe,M),Xe(M,o[0]),a(oe,Ye),a(oe,te),a(te,Ze),a(te,Re),a(te,xe),a(O,$e),a(O,re),J.m(re,null),a(n,et),a(n,pe),a(pe,se),a(se,_e),a(_e,tt),a(se,st),a(se,ve),a(ve,ae);for(let v=0;v<I.length;v+=1)I[v].m(ae,null);T(c,Oe,g),T(c,le,g),G.m(le,null),Ie=!0,lt||(ut=[W(M,"change",o[20]),W(M,"input",o[20])],lt=!0)},p(c,g){if(c[3]?j||(j=Wt(),j.c(),j.m(r.parentNode,r)):j&&(j.d(1),j=null),g&0){me=new Array(10);let v;for(v=0;v<me.length;v+=1){const K=Qt(c,me,v);P[v]?P[v].p(K,g):(P[v]=Ft(K),P[v].c(),P[v].m(y,null))}for(;v<P.length;v+=1)P[v].d(1);P.length=me.length}if(g&0){be=new Array(8);let v;for(v=0;v<be.length;v+=1){const K=Kt(c,be,v);U[v]?U[v].p(K,g):(U[v]=Xt(K),U[v].c(),U[v].m(B,null))}for(;v<U.length;v+=1)U[v].d(1);U.length=be.length}if(je===(je=ct(c))&&z?z.p(c,g):(z.d(1),z=je(c),z&&(z.c(),z.m(O,Ue))),g[0]&1&&Xe(M,c[0]),(!Ie||g[0]&1)&&it(Re,c[0]),Be===(Be=ht(c))&&J?J.p(c,g):(J.d(1),J=Be(c),J&&(J.c(),J.m(re,null))),g[0]&256){ue=c[8];let v;for(v=0;v<ue.length;v+=1){const K=qt(c,ue,v);I[v]?(I[v].p(K,g),nt(I[v],1)):(I[v]=ts(K),I[v].c(),nt(I[v],1),I[v].m(ae,null))}for(_s(),v=ue.length;v<I.length;v+=1)ls(v);ps()}qe===(qe=dt(c))&&G?G.p(c,g):(G.d(1),G=qe(c),G&&(G.c(),G.m(le,null)))},i(c){if(!Ie){for(let g=0;g<ue.length;g+=1)nt(I[g]);Ie=!0}},o(c){I=I.filter(Boolean);for(let g=0;g<I.length;g+=1)At(I[g]);Ie=!1},d(c){c&&h(e),c&&h(l),j&&j.d(c),c&&h(r),c&&h(n),ie(P,c),ie(U,c),z.d(),J.d(),ie(I,c),c&&h(Oe),c&&h(le),G.d(),lt=!1,Pt(ut)}}}function ss(o){return o.value===void 0?`cell possibility-${o.possibleValues.size}`:`cell ${o.reason.type} hypothesis-${at(o.reason.hypothesisNumber)}`}function at(o){return o===0?0:(o-1)%7+1}function Ds(o,e,t){let s=1e3,i,l=!1,r=!1;const n=["very_easy","easy","medium","hard","expert"];let u=new Array(9).fill([]).map(()=>new Array(9).fill(void 0));u=[[2,void 0,8,void 0,void 0,void 0,void 0,void 0,1],[void 0,void 0,void 0,void 0,3,void 0,void 0,void 0,4],[void 0,void 0,9,7,void 0,5,void 0,void 0,void 0],[3,void 0,7,5,void 0,void 0,void 0,void 0,void 0],[void 0,void 0,void 0,2,6,3,void 0,void 0,void 0],[void 0,void 0,void 0,void 0,void 0,8,4,void 0,5],[void 0,void 0,void 0,6,void 0,7,2,void 0,void 0],[5,void 0,void 0,void 0,1,void 0,void 0,void 0,void 0],[8,void 0,void 0,void 0,void 0,void 0,9,void 0,6]];let m,b,k=!1,w=!1,S=[];const y=[];let A=!1;async function F(H){t(7,w=!1),t(9,A=!0);try{const D=Math.floor(Math.random()*1e3),R=`https://www.sudokulovers.com/api/game/random/${H}?cb=${D}`,L=`https://api.allorigins.win/get?url=${encodeURIComponent(R)}`,ne=await(await fetch(L)).json(),Ce=JSON.parse(ne.contents).board;t(4,u=Ce.map(Ne=>Ne.map(O=>O===null?void 0:O)))}catch(D){console.warn(D)}finally{t(9,A=!1)}}function X(H,D,R){const L=Number.parseInt(R.data);R.data===null?t(4,u[H][D]=void 0,u):!Number.isNaN(L)&&L>0&&L<10?t(4,u[H][D]=L,u):t(4,u[H][D]=i,u)}async function Y(H){for(const D of H)(D.type===Se.hypothesis||D.type===Se.invalidateHypothesis)&&S.push(D);return t(8,S),t(5,m=b.sudoku),await new Promise(D=>setTimeout(D,s)),l?new Promise(D=>y.push(()=>D(!0))):!0}async function B(){console.log(JSON.stringify(u));try{b=new vs(u,{decisionCallBack:Y}),t(5,m=b.sudoku),t(6,k=!0),await b.solve()}catch(H){console.warn(H),t(3,r=!0)}console.log(b.emptyCellsCount)}function Z(){b.interrupt=!0,t(6,k=!1),t(8,S=[]),t(3,r=!1),t(2,l=!1)}function ce(){t(2,l=!0)}function he(){for(;y.length>0;)y.pop()();t(2,l=!1)}const De=(H,D)=>t(1,i=H);function $(H,D){H[D]=ot(this.value),t(4,u)}const q=(H,D,R)=>X(H,D,R);function ee(){s=ot(this.value),t(0,s)}return[s,i,l,r,u,m,k,w,S,A,n,F,X,B,Z,ce,he,De,$,q,ee,()=>he(),()=>ce(),()=>t(7,w=!w),H=>F(H),()=>B(),()=>Z()]}class Is extends cs{constructor(e){super();hs(this,e,Ds,Ss,ds,{},null,[-1,-1])}}export{Is as default};
